{"version":3,"sources":["img/game/desk.jpg","component/Socket/index.tsx","game/index.tsx","component/common/GameRoom/index.tsx","component/ChessBoard/index.tsx","game/othello/ai/ai2.tsx","game/othello/ai/board.tsx","game/othello/index.tsx","home/index.tsx","App.tsx","serviceWorker.ts","index.tsx","img/home/othello.jpg","img/game/site1.jpg","img/game/site2.jpg"],"names":["module","exports","webSocket","WebSocket","Meta","Card","Game","handleClick","path","history","props","websocket","readyState","OPEN","push","message","error","onopen","evt","info","onerror","className","gutter","span","onClick","cover","alt","src","OthelloImg","title","description","hoverable","Component","GameRoom","state","roomList","handleEnterRoom","targetId","siteType","console","log","pathname","roomId","handleBackToHome","roomType","childData","JSON","stringify","childType","parentRoomId","send","type","data","goBack","length","maxRoomSize","arr","i","leftSite","rightSite","roomTargetKey","this","onmessage","parse","success","roomSites","roomsInfo","room","roomInfo","find","r","code","setState","style","color","ghost","onBack","subTitle","map","v","index","key","SiteOffImg","SiteOnImg","DeskImg","ChessBoard","canvas","drawChesses","ctx","chesses","width","height","gridWidth","gridHeight","y","drawBlackChess","drawWhiteChess","drawAllowChess","drawLastStep","x","offset","beginPath","g","createRadialGradient","addColorStop","fillStyle","arc","Math","PI","fill","closePath","fillRect","drawChessBoard","strokeStyle","moveTo","lineTo","stroke","highlightCell","lastHighlightX","lastHighlightY","drawHighlightCell","strokeRect","handleChessClick","getContext","canvasTop","offsetTop","canvasLeft","offsetLeft","drawBoard","addEventListener","event","mouseX","ceil","pageX","mouseY","pageY","nextProps","nextState","nextContext","lineWidth","lastStep","margin","id","ref","node","EVAL_SCORES","Brain","nodeCount","defaultdepth","maxdepth","finaldepth","heuristic","board","player","c1","c2","s1","s2","_getData","chess","liberty","dx","dy","tx","ty","BS","checkCorner","corner","cornerChess","tmp","exactscore","bw","getChessCount","score","getHeuristicValue","step","putChess","undo","hsearch","depth","alpha","beta","max","getPlayer","INFINITE","steps","getPutableList","bestStep","heuristics","sort","a","b","ret","debug","isGameOver","skipPutChess","esearch","setLevel","sd","fd","findBestStep","result","cc","chessCount","radSteps","floor","random","tick","Date","getTime","CENTER","pos","Board","Array","currentPlayer","trogglePlayer","reset","canPutAnyChess","getChess","w","check","reverse","cb","found","c","canPutChess","changed","saveChanged","flipped","pop","Othello","blackCount","whiteCount","currentCode","isReady","ai","handleBuildMessage","action","handlePutChess","aiResult","parseChessBoard","setTimeout","alert","handleClose","handleBackToBaseRoom","handleMessage","table","winnerCode","handleError","handleReady","robotTrain","allowList","chessList","row","xPoint","yPoint","point","location","onclose","textAlign","Home","basename","exact","render","App","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d23624bc.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","const webSocket= new WebSocket('ws://122.51.65.212:7397');\r\nexport default webSocket;\r\n","import React, { Component } from 'react';\r\nimport { Card, Row, Col, message } from 'antd';\r\nimport { BrowserRouterProps } from 'react-router-dom';\r\nimport websocket from '../component/Socket';\r\n\r\nimport OthelloImg from '../img/home/othello.jpg';\r\n\r\nimport './index.css';\r\n\r\nconst { Meta } = Card;\r\n\r\ninterface GameProps  extends BrowserRouterProps {\r\n    history: any;\r\n}\r\n\r\nexport default class Game extends Component<GameProps> {\r\n\r\n    componentDidMount() {\r\n        websocket.onopen = (evt: any) => {\r\n            message.info(\"连接服务器成功!\");\r\n        }\r\n        websocket.onerror = (evt: any) => {\r\n            message.error(\"连接服务器失败， 请稍后重试!\");\r\n        }\r\n    }\r\n\r\n\r\n    handleClick = (path: string) => {\r\n        const { history } = this.props;\r\n        if (websocket.readyState !== websocket.OPEN) {\r\n            message.error(\"连接服务器失败，请稍后重试!\");\r\n            return;\r\n        }\r\n        history.push(\"/\" + path);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"game-block-content\">\r\n                <Row gutter={24} >\r\n                    <Col span={4}>\r\n                        <div className=\"game-block-single\">\r\n                            <Card\r\n                                onClick={() => this.handleClick('othello')}\r\n                                \r\n                                cover={<img alt=\"othello\" src={OthelloImg} />}\r\n                            >\r\n                                <Meta title=\"奥赛罗棋\" description=\"黑白棋在西方和日本很流行。游戏通过相互翻转对方的棋子，最后以棋盘上谁的棋子多来判断胜负。\" />\r\n                            </Card>\r\n                        </div>\r\n                    </Col>\r\n                    <Col span={4}>\r\n                        <div className=\"game-block-single\">\r\n                            <Card\r\n                                hoverable\r\n                                cover={<img alt=\"othello\" src={OthelloImg} />}\r\n                            >\r\n                            </Card>\r\n                        </div>\r\n                    </Col>\r\n                    <Col span={4}>\r\n                        <div className=\"game-block-single\">\r\n                            <Card\r\n                                hoverable\r\n                                cover={<img alt=\"othello\" src={OthelloImg} />}\r\n                            >\r\n                            </Card>\r\n                        </div>\r\n                    </Col>\r\n                </Row>              \r\n            \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport { message, PageHeader } from 'antd';\r\n\r\nimport DeskImg from '../../../img/game/desk.jpg';\r\nimport SiteOffImg from '../../../img/game/site1.jpg';\r\nimport SiteOnImg from '../../../img/game/site2.jpg';\r\n\r\nimport websocket from '../../Socket';\r\n\r\nimport './index.css';\r\n\r\ninterface RoomSite {\r\n    roomId: string;\r\n    leftSite: number;\r\n    rightSite: number;\r\n}\r\n\r\ninterface GameRoomProps {\r\n    roomTargetKey: string;\r\n    maxRoomSize?: number;\r\n    history: any;\r\n    roomType: string;\r\n}\r\n\r\ninterface GameRoomState {\r\n    roomList: RoomSite[];\r\n}\r\n\r\nexport default class GameRoom extends Component<GameRoomProps, GameRoomState> {\r\n\r\n    state: GameRoomState = {\r\n        roomList: []\r\n    }\r\n\r\n    constructor(props: GameRoomProps) {\r\n        super(props);\r\n        let length = props.maxRoomSize ? props.maxRoomSize : 12;\r\n        let arr = [];\r\n        for(let i = 0; i < length; i++) {\r\n            arr.push({leftSite: 0, rightSite: 0, roomId: props.roomTargetKey + i});\r\n        }\r\n        this.state = {\r\n            roomList: arr,\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        const { roomType } = this.props;\r\n        let childData = JSON.stringify({childType: 'COME', parentRoomId: roomType});\r\n        if (websocket.readyState === websocket.OPEN) {\r\n            websocket.send(JSON.stringify({type: 'BASE', targetId: roomType, data: childData}));\r\n        } else {\r\n            message.error(\"与服务器连接异常!\");\r\n        }\r\n\r\n        websocket.onmessage = (evt: any) => {\r\n            const { roomList } = this.state;\r\n            const data = JSON.parse(evt.data);\r\n            console.log(data);\r\n            if (data.success) {\r\n                let roomSites = [];\r\n                console.log(data.data);\r\n                const roomsInfo = data.data.roomsInfo;\r\n                if(roomsInfo){\r\n                    for(let room of roomList) {\r\n                        if(roomsInfo[room.roomId]) {\r\n                            let roomInfo = roomsInfo[room.roomId];\r\n                            roomSites.push({\r\n                                roomId: room.roomId, \r\n                                leftSite: roomInfo.find((r: any) => (r.code === 'BLACK')) ? 1 : 0,\r\n                                rightSite: roomInfo.find((r: any) => (r.code === 'WHITE')) ? 1 : 0,\r\n                            })\r\n                        } else {\r\n                            roomSites.push(room);\r\n                        }\r\n                    }\r\n                    this.setState({\r\n                        roomList: roomSites\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleEnterRoom = (targetId: string, siteType : number) => {\r\n        if (websocket.readyState !== websocket.OPEN) {\r\n            message.error(\"连接服务器失败，请稍后重试!\");\r\n            //return;\r\n        }\r\n        console.log(targetId, siteType);\r\n        const { history } = this.props;\r\n        history.push({\r\n            pathname: '/othello/room',\r\n            state: {\r\n                roomId: targetId,\r\n                siteType: siteType,\r\n            }\r\n        })\r\n    }\r\n\r\n    handleBackToHome = () => {\r\n        const { history, roomType } = this.props;\r\n        let childData = JSON.stringify({childType: 'LEAVE', parentRoomId: roomType});\r\n        websocket.send(JSON.stringify({type: 'BASE', targetId: roomType, data: childData}));\r\n        history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { roomList } = this.state; \r\n        return (\r\n            <div>\r\n                <PageHeader\r\n                    style={{color: 'white'}}\r\n                    ghost={false}\r\n                    onBack={this.handleBackToHome}\r\n                    title=\"返回\"\r\n                    subTitle=\"回到主页\"\r\n                />\r\n                <div className=\"game-room-content\">\r\n                    {\r\n                        roomList.map((v, index) => (\r\n                            <div className=\"game-room-single\" key={index}>\r\n                                <div className=\"game-site-left\">\r\n                                    <img className={v.leftSite === 0 ? \"game-site-off\" : \"game-site-on\"}\r\n                                        src={v.leftSite === 0 ? SiteOffImg : SiteOnImg}\r\n                                        alt=\"\"\r\n                                        onClick={() => this.handleEnterRoom(v.roomId, 0)} />\r\n                                </div>\r\n                                <div className=\"game-table\">\r\n                                    <img src={DeskImg} alt=\"\" />\r\n                                </div>\r\n                                <div className=\"game-site-right\">\r\n                                    <img className={v.rightSite === 0 ? \"game-site-off\" : \"game-site-on\"}\r\n                                        src={v.rightSite === 0 ? SiteOffImg : SiteOnImg} \r\n                                        alt=\"\"\r\n                                        onClick={() => this.handleEnterRoom(v.roomId, 1)} />\r\n                                </div>\r\n                            </div>  \r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component } from 'react';\r\nimport { Chess } from '../../types/game';\r\n\r\nexport interface IChessBoardProps {\r\n    chesses: Chess[][];\r\n    width: number;\r\n    height: number;\r\n    length: number;\r\n    lastStep: number[];\r\n    handleChessClick: (x: number, y: number) => void;\r\n}\r\n\r\nexport interface IChessBoardState {\r\n    offset: number;\r\n    lastHighlightX: number;\r\n    lastHighlightY: number;\r\n}\r\n\r\nexport default class ChessBoard extends Component<IChessBoardProps, IChessBoardState> {\r\n    canvas: HTMLCanvasElement | null | undefined;\r\n    state: IChessBoardState;\r\n    constructor(props: IChessBoardProps) {\r\n        super(props);\r\n        this.state = {\r\n            offset:  props.width / props.length > props.height / props.length ? props.width / props.length : props.height / props.length,\r\n            lastHighlightX: -99,\r\n            lastHighlightY: -99,\r\n        }\r\n    };\r\n\r\n    componentDidMount(): void {\r\n        const {length, width, height, handleChessClick } = this.props;\r\n        const { offset } = this.state;\r\n        const gridWidth = width / length;\r\n        const gridHeight = height /length;\r\n        if(this.canvas) {\r\n            let ctx = this.canvas.getContext('2d');\r\n            const canvasTop = this.canvas.offsetTop;\r\n            const canvasLeft = this.canvas.offsetLeft;\r\n            if(ctx){\r\n                this.drawBoard(ctx);\r\n                //鼠标移动监听\r\n                this.canvas.addEventListener('mousemove', (event: MouseEvent) => {\r\n                    let mouseX = Math.ceil((event.pageX - canvasLeft - offset) / gridWidth) - 1;\r\n                    let mouseY = Math.ceil((event.pageY - canvasTop - offset) / gridHeight) - 1;\r\n                    if(mouseX >= 0 && mouseX < length && mouseY >=0 && mouseY < length) {\r\n                        if(ctx){\r\n                            this.highlightCell(mouseX, mouseY, ctx);\r\n                        }\r\n                    }\r\n                });\r\n                //点击事件监听\r\n                this.canvas.addEventListener('click', (evt) => {\r\n                    let mouseX = Math.ceil((evt.pageX - canvasLeft - offset) / gridWidth) - 1;\r\n                    let mouseY = Math.ceil((evt.pageY - canvasTop - offset) / gridHeight) - 1;\r\n                    if(mouseX >= 0 && mouseX < length && mouseY >=0 && mouseY < length) {\r\n                        handleChessClick(mouseX, mouseY);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    shouldComponentUpdate(nextProps: Readonly<IChessBoardProps>, nextState: Readonly<IChessBoardState>, nextContext: any): boolean {\r\n        const { chesses } = this.props;\r\n        return chesses !== nextProps.chesses;\r\n    };\r\n\r\n    componentDidUpdate(): void {\r\n        if(this.canvas) {\r\n            let ctx = this.canvas.getContext('2d');\r\n            if(ctx){\r\n                this.drawBoard(ctx);\r\n            }\r\n        }\r\n    };\r\n\r\n    drawBoard(ctx: CanvasRenderingContext2D) {\r\n        const { width, height } = this.props;\r\n        const { offset } = this.state;\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.lineWidth = 2;\r\n        ctx.fillRect(0, 0, width + 2*offset, height + 2*offset);\r\n        this.drawChessBoard(ctx);\r\n        this.drawChesses(ctx);\r\n    };\r\n\r\n    drawChesses = (ctx: CanvasRenderingContext2D) => {\r\n        const { chesses, length, width, height } = this.props;\r\n        if(!chesses) return;\r\n        const gridWidth = width / length;\r\n        const gridHeight = height /length;\r\n        for(let i = 0; i < length; i++) {\r\n            for(let y = 0; y < length; y++) {\r\n                if(chesses[i][y] && chesses[i][y].code){\r\n                    const code = chesses[i][y].code;\r\n                    if(code === 'NULL') {\r\n                        continue;\r\n                    }\r\n                    if (code === 'BLACK') {\r\n                        this.drawBlackChess(i, y, gridWidth, gridHeight, ctx)\r\n                    } else if (code === 'WHITE') {\r\n                        this.drawWhiteChess(i, y, gridWidth, gridHeight, ctx)\r\n                    }else if (code === 'ALLOW') {\r\n                        this.drawAllowChess(i, y, gridWidth, gridHeight, ctx);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.drawLastStep(gridWidth, gridHeight, ctx);\r\n    };\r\n\r\n    drawBlackChess = (x: number, y: number, width: number, height: number, ctx: CanvasRenderingContext2D) => {\r\n        const { offset } = this.state;\r\n        ctx.beginPath();\r\n        let g = ctx.createRadialGradient(offset + x*width+width/2,offset + y*height+height/2,13,offset + x*width+width/2,offset + y*height+height/2,0);//设置渐变\r\n        g.addColorStop(0,'#0A0A0A');//黑棋\r\n        g.addColorStop(1,'#636766');\r\n        ctx.fillStyle=g;\r\n        ctx.arc(offset + x*width+width/2,offset + y*height+height/2,13,0,2*Math.PI);//绘制棋子\r\n        ctx.fill();\r\n        ctx.closePath();\r\n    };\r\n\r\n    drawWhiteChess = (x: number, y: number, width: number, height: number, ctx: CanvasRenderingContext2D) => {\r\n        const { offset } = this.state;\r\n        ctx.beginPath();\r\n        let g = ctx.createRadialGradient(offset + x*width+width/2,offset + y*height+height/2,13,offset + x*width+width/2,offset + y*height+height/2,0);//设置渐变\r\n        g.addColorStop(0,'#D1D1D1');//白棋\r\n        g.addColorStop(1,'#F9F9F9');\r\n        ctx.fillStyle=g;\r\n        ctx.arc(offset + x*width+width/2,offset + y*height+height/2, 13,0,2*Math.PI);//绘制棋子\r\n        ctx.fill();\r\n        ctx.closePath();\r\n    };\r\n\r\n    drawAllowChess = (x: number, y: number, width: number, height: number, ctx: CanvasRenderingContext2D) => {\r\n        const { offset } = this.state;\r\n        ctx.fillStyle='green';\r\n        //绘制成矩形\r\n        ctx.fillRect(offset + x*width + width/2 - 2,offset + y*height + height/2 - 2,4,4);\r\n    };\r\n\r\n    drawLastStep(width: number, height: number, ctx: CanvasRenderingContext2D) {\r\n        const { lastStep } = this.props;\r\n        const { offset } = this.state;\r\n        if(!lastStep) {\r\n            return;\r\n        }\r\n        const x = lastStep[0];\r\n        const y = lastStep[1];\r\n        if(x != null && y != null) {\r\n            ctx.fillStyle = \"red\";\r\n            ctx.fillRect(offset + x*width + width/2 - 2,offset + y*height + height/2 - 2,4,4);\r\n        }\r\n    }\r\n\r\n    drawChessBoard = (ctx: CanvasRenderingContext2D) => {\r\n        const {length, width, height} = this.props;\r\n        const { offset } = this.state;\r\n        const gridWidth = width / length;\r\n        const gridHeight = height /length;\r\n        ctx.strokeStyle='#000';\r\n        for(let i = 0; i <= height; i++) {\r\n            ctx.beginPath();\r\n            ctx.moveTo(offset + i*gridWidth,offset);//垂直方向画\r\n            ctx.lineTo(offset + i*gridWidth, height + offset);\r\n            ctx.stroke();\r\n            ctx.moveTo(offset,offset + i*gridHeight);//水平方向画\r\n            ctx.lineTo(offset + width,offset + i*gridHeight);\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n        }\r\n    };\r\n\r\n    highlightCell = (x: number, y: number, ctx: CanvasRenderingContext2D) => {\r\n        const { length } = this.props;\r\n        const { lastHighlightX, lastHighlightY } = this.state;\r\n        if(x === lastHighlightX && y === lastHighlightY) {\r\n            return;\r\n        }\r\n        if(lastHighlightX >= 0 && lastHighlightX < length && lastHighlightY >=0 && lastHighlightY < length) {\r\n            this.drawHighlightCell(lastHighlightX, lastHighlightY, ctx, '#000');\r\n        }\r\n        if(x >= 0 && x < length && y >=0 && y < length) {\r\n            this.drawHighlightCell(x, y, ctx, 'red');\r\n        }\r\n        this.setState({\r\n            lastHighlightX: x,\r\n            lastHighlightY: y,\r\n        });\r\n    };\r\n\r\n    drawHighlightCell = (x: number, y: number, ctx: CanvasRenderingContext2D, style: string) => {\r\n        const { width, height,length } = this.props;\r\n        const { offset } = this.state;\r\n        const gridWidth = width / length;\r\n        const gridHeight = height /length;\r\n        ctx.strokeStyle = style;\r\n        ctx.strokeRect(offset + x*gridWidth, offset + y*gridHeight, gridWidth, gridHeight);\r\n    };\r\n\r\n    public render() {\r\n        const { width, height } = this.props;\r\n        const { offset } = this.state;\r\n        return (\r\n            <div style={{margin: '40px auto'}}>\r\n                <canvas id=\"board\" width={width + 2*offset} height={height + 2*offset} ref={node => this.canvas = node}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","const INFINITE = 999999;\r\nconst WHITE = 2;\r\nconst BS = 8; //BLORD SIZE\r\n\r\nconst EVAL_SCORES =[500 ,-150 ,30 ,10 ,10 ,30 ,-150 ,500 ,\r\n\t\t\t\t -150,-250 ,0  ,0  ,0  ,0  ,-250 ,-150,\r\n\t\t\t\t 30  ,0    ,1  ,2  ,2  ,1  ,0    ,30  ,\r\n\t\t\t\t 10  ,0    ,2  ,16 ,16 ,2  ,0    ,10  ,\r\n\t\t\t\t 10  ,0    ,2  ,16 ,16 ,2  ,0    ,10  ,\r\n\t\t\t\t 30  ,0    ,1  ,2  ,2  ,1  ,0    ,30  ,\r\n\t\t\t\t -150,-250 ,0  ,0  ,0  ,0  ,-250 ,-150,\r\n\t\t\t\t 500 ,-150 ,30 ,10 ,10 ,30 ,-150 ,500 ];\r\n\r\nvar BONUS_SCORE = 30;\r\nvar LIBERTY_SCORE = 8;\r\n\r\nexport default class Brain {\r\n\tnodeCount = 0;\r\n\tdefaultdepth = 6;\r\n\tmaxdepth = 0;\r\n    finaldepth = 18;\r\n\t\r\n\theuristic = (board: any, player: number) => {\r\n\t\t++this.nodeCount; //update counter\r\n\t\tvar\tc1=0,c2=0;\r\n\t\tvar s1=0,s2=0;\r\n\t\tvar data = board._getData();\r\n\t\tfor(var x=1;x<=BS;++x){\r\n\t\t\tfor(var y=1;y<=BS;++y){\r\n\t\t\t\tvar i = (x-1)+(y-1)*BS;\r\n\t\t\t\tvar chess = data[i];\r\n\t\t\t\tif(chess === 0){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tvar liberty = 0;\r\n\t\t\t\tfor(var dx=-1;dx<=1;++dx){\r\n\t\t\t\t\tfor(var dy=-1;dy<=1;++dy){\r\n\t\t\t\t\t\tvar tx = x+dx;\r\n\t\t\t\t\t\tvar ty = y+dy;\r\n\t\t\t\t\t\tvar t = (tx-1)+(ty-1)*BS;\r\n\t\t\t\t\t\tif(tx>=1 && tx<=BS && ty>=1 && ty<=BS && data[t]===0){\r\n\t\t\t\t\t\t\t++liberty;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(chess === player){\r\n\t\t\t\t\t++c1;\r\n\t\t\t\t\ts1 += EVAL_SCORES[i];\r\n\t\t\t\t\ts1 -= liberty*LIBERTY_SCORE;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t++c2;\r\n\t\t\t\t\ts2 += EVAL_SCORES[i];\r\n\t\t\t\t\ts2 -= liberty*LIBERTY_SCORE;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(c1 === 0) return -INFINITE;\r\n\t\tif(c2 === 0) return INFINITE;\r\n\t\tif(c1+c2 === BS*BS){\r\n\t\t\tif(c1>c2) return INFINITE;\r\n\t\t\telse if(c2>c1) return -INFINITE;\r\n\t\t}\r\n\t\t\r\n\t\t//corner check\r\n\t\tvar checkCorner = (arr: any[]) => {\r\n\t\t\tvar corner = arr[0];\r\n\t\t\tvar cornerChess = data[corner];\r\n\t\t\tif(cornerChess!==0){\r\n\t\t\t\t//calc the adjust chess score\r\n\t\t\t\tfor(let i=1;i<=3;++i){\r\n\t\t\t\t\tvar chess = data[arr[i]];\r\n\t\t\t\t\tif(chess === 0){\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(chess === player){\r\n\t\t\t\t\t\ts1 -= EVAL_SCORES[arr[i]];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\ts2 -= EVAL_SCORES[arr[i]];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//calc the bonus: x direction\r\n\t\t\t\tvar tmp = corner;\r\n\t\t\t\tfor(let i=0;i<BS-2;++i){\r\n\t\t\t\t\ttmp += arr[4];\r\n\t\t\t\t\tif(data[tmp]!==cornerChess){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(player === cornerChess){\r\n\t\t\t\t\t\ts1 += BONUS_SCORE;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\ts2 += BONUS_SCORE;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//calc the bonus: y direction\r\n\t\t\t\ttmp = corner;\r\n\t\t\t\tfor(var i=0;i<BS-2;++i){\r\n\t\t\t\t\ttmp += (arr[5]*BS);\r\n\t\t\t\t\tif(data[tmp]!==cornerChess){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(player === cornerChess){\r\n\t\t\t\t\t\ts1 += BONUS_SCORE;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\ts2 += BONUS_SCORE;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tcheckCorner([0,1,8,9,1,1]);\r\n\t\tcheckCorner([7,6,14,15,-1,1]);\r\n\t\tcheckCorner([56,48,49,57,1,-1]);\r\n\t\tcheckCorner([63,54,55,62,-1,-1]);\r\n\t\t\r\n\t\t//console.debug(\"c1:\"+c1+\",c2:\"+c2+\",s1:\"+s1+\",s2:\"+s2);\r\n\t\treturn (s1-s2);\r\n\t};\r\n\t\r\n\texactscore = (board: any, player: number) => {\r\n\t\t++this.nodeCount;\r\n\t\tvar bw = board.getChessCount();\r\n\t\tvar score = 0;\r\n\t\tif(bw[0]>bw[1]){\r\n\t\t\tscore = INFINITE;\r\n\t\t}\r\n\t\telse if(bw[0]<bw[1]){\r\n\t\t\tscore = -INFINITE;\r\n\t\t}\r\n\t\tif(player ===  WHITE){\r\n\t\t\tscore = -score;\r\n\t\t}\r\n\t\treturn score;\r\n\t}\r\n\t\r\n\tgetHeuristicValue = (board: any, player: number, step: number[]) => {\r\n\t\tboard.putChess(step[0],step[1]);\r\n\t\tvar score = this.heuristic(board,player);\r\n\t\tboard.undo();\r\n\t\treturn score;\r\n\t}\r\n\t\r\n\thsearch = (board: any, player: number, depth: number, alpha : number, beta: number) => {\r\n\t\tif(depth === 0){\r\n\t\t\treturn {'score': this.heuristic(board,player),'step':[]};\r\n\t\t}\r\n\t\tlet max = (board.getPlayer() === player);\r\n\t\tlet score = max?(-INFINITE-1):(INFINITE+1);\r\n\t\tlet steps = board.getPutableList();\r\n\t\tlet bestStep = [0,0];\r\n\t\tif(steps.length>0){\r\n\t\t\t//sort the steps for better cut\r\n\t\t\tvar heuristics: any ={};\r\n\t\t\tfor(let i=0;i<steps.length;++i){\r\n\t\t\t\tlet step = steps[i];\r\n\t\t\t\theuristics[step]= this.getHeuristicValue(board,player,step);\r\n\t\t\t}\r\n\t\t\tsteps.sort(function(a: number,b: number){\r\n\t\t\t\treturn max?(heuristics[b]-heuristics[a]):(heuristics[a]-heuristics[b]);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif(depth === 1){\r\n\t\t\t\tlet step = steps[0];\r\n\t\t\t\tscore = heuristics[step];\r\n\t\t\t\tbestStep[0] = step[0];\r\n\t\t\t\tbestStep[1] = step[1];\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfor(let i=0;i<steps.length;++i){\r\n\t\t\t\t\tlet step = steps[i];\r\n\t\t\t\t\tboard.putChess(step[0],step[1]);\r\n\t\t\t\t\tlet ret = this.hsearch(board, player,depth-1,alpha,beta);\r\n\t\t\t\t\tboard.undo();\r\n\t\t\t\t\tif(depth === this.maxdepth){ //only output the first level\r\n\t\t\t\t\t\tconsole.debug(\"eval step:\"+step+\",score:\"+ret.score+\",depth:\"+depth);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(max){\r\n\t\t\t\t\t\tif(ret.score>score) {\r\n\t\t\t\t\t\t\tscore = ret.score;\r\n\t\t\t\t\t\t\tbestStep[0] = step[0];\r\n\t\t\t\t\t\t\tbestStep[1] = step[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talpha = (alpha>score?alpha:score);\r\n\t\t\t\t\t\tif(alpha>=beta){ //beta cutoff\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(ret.score<score) {\r\n\t\t\t\t\t\t\tscore = ret.score;\r\n\t\t\t\t\t\t\tbestStep[0] = step[0];\r\n\t\t\t\t\t\t\tbestStep[1] = step[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbeta = (beta<score?beta:score);\r\n\t\t\t\t\t\tif(alpha>=beta){ //alpha cutoff\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif (!board.isGameOver()) {\r\n\t\t\t\tboard.skipPutChess();\r\n\t\t\t\tlet ret = this.hsearch(board, player, depth, alpha, beta);\r\n\t\t\t\tscore = ret.score;\r\n\t\t\t\tbestStep = [];\r\n\t\t\t\tboard.undo();\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tscore = this.exactscore(board,player);\r\n\t\t\t\tbestStep = [];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {'score':score,'step':bestStep};\r\n\t}\r\n\t\r\n\tesearch = (board: any, player: number, depth: number , alpha : number, beta: number) => {\r\n\t\tif(depth === 0){\r\n\t\t\treturn {'score':this.exactscore(board,player),'step':[]};\r\n\t\t}\r\n\t\tvar max = (board.getPlayer() === player);\r\n\t\tvar score = max?(-INFINITE-1):(INFINITE+1);\r\n\t\tvar steps = board.getPutableList();\r\n\t\tvar bestStep = [0,0];\r\n\t\tif(steps.length>0){\r\n\t\t\tfor(var i=0;i<steps.length;++i){\r\n\t\t\t\tvar step = steps[i];\r\n\t\t\t\tboard.putChess(step[0],step[1]);\r\n\t\t\t\tvar ret = this.esearch(board, player,depth-1,alpha,beta);\r\n\t\t\t\tboard.undo();\r\n\t\t\t\tif(depth === this.maxdepth){ //only output the first level\r\n\t\t\t\t\tconsole.debug(\"eval step:\"+step+\",score:\"+ret.score+\",depth:\"+depth);\r\n\t\t\t\t}\r\n\t\t\t\tif(max){\r\n\t\t\t\t\tif(ret.score>score) {\r\n\t\t\t\t\t\tscore = ret.score;\r\n\t\t\t\t\t\tbestStep[0] = step[0];\r\n\t\t\t\t\t\tbestStep[1] = step[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\talpha = (alpha > score ? alpha : score);\r\n\t\t\t\t\tif(alpha >= beta){ //beta cutoff\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(ret.score<score) {\r\n\t\t\t\t\t\tscore = ret.score;\r\n\t\t\t\t\t\tbestStep[0] = step[0];\r\n\t\t\t\t\t\tbestStep[1] = step[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbeta = (beta<score?beta:score);\r\n\t\t\t\t\tif(alpha>=beta){ //alpha cutoff\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(!board.isGameOver()){\r\n\t\t\t\tboard.skipPutChess();\r\n\t\t\t\tlet ret = this.esearch(board, player,depth,alpha,beta);\r\n\t\t\t\tscore = ret.score;\r\n\t\t\t\tbestStep = [];\r\n\t\t\t\tboard.undo();\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tscore = this.exactscore(board,player);\r\n\t\t\t\tbestStep = [];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {'score':score,'step':bestStep};\r\n\t}\r\n\r\n\tsetLevel= (sd: number, fd: number) => {\r\n\t\tthis.defaultdepth = sd;\r\n\t\tthis.finaldepth = fd;\r\n\t}\r\n\t\r\n\tfindBestStep = (board: any) => {\r\n\t\tlet steps = board.getPutableList();\r\n\t\tlet cc = board.getChessCount();\r\n\t\tlet player = board.getPlayer();\r\n        let chessCount = cc[0]+cc[1];\r\n        let result;\r\n\t\tif(steps.length<=0){\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\t//if chess count is less than (BS-2)^2 , take the random strategy\r\n\t\tif(chessCount<=((BS-4)*(BS-4))){ //random select\r\n\t\t\tconsole.debug(\"random strategy\");\r\n\t\t\tvar radSteps = [];\r\n\t\t\tfor(var i=0;i<steps.length;++i){\r\n\t\t\t\tvar step = steps[i];\r\n\t\t\t\tif(step[0]>=3 && step[0]<=(BS-2) && step[1]>=3 && step[1]<=(BS-2)){\r\n\t\t\t\t\tradSteps.push(step);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(radSteps.length>0){\r\n\t\t\t\tvar ri = Math.floor((Math.random()*radSteps.length));\r\n\t\t\t\treturn radSteps[ri];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(chessCount>=BS*BS-this.finaldepth){ //exact search\r\n\t\t\tconsole.debug(\"exact strategy\");\r\n\t\t\tthis.maxdepth = BS*BS - chessCount;\r\n\t\t\tconsole.debug(\"try depth:\"+this.maxdepth);\r\n\t\t\tthis.nodeCount = 0;\r\n\t\t\tlet tick = (new Date()).getTime();\r\n\t\t\tresult = this.esearch(board, player, this.maxdepth,-INFINITE,INFINITE);\r\n\t\t\ttick = (new Date()).getTime() - tick;\r\n\t\t\tconsole.debug(\"best step:\"+result.step+\",eval nodeCount:\"+this.nodeCount+\",cost:\"+tick+\" ms\");\r\n\t\t\tif(result.score!==(-INFINITE)){\r\n\t\t\t\treturn result.step;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//heuristic search\r\n\t\tconsole.debug(\"heuristic strategy\");\r\n\t\tthis.maxdepth = this.defaultdepth;\r\n\t\tconsole.debug(\"try depth:\"+this.maxdepth);\r\n\t\tthis.nodeCount = 0;\r\n\t\tlet tick = (new Date()).getTime();\r\n\t\tresult = this.hsearch(board,player,this.maxdepth,-INFINITE,INFINITE);\r\n\t\ttick = (new Date()).getTime()-tick;\r\n\t\tconsole.debug(\"best step:\" + result.step + \",eval nodeCount:\" + this.nodeCount + \",cost:\" + tick + \"ms\");\r\n\t\treturn result.step;\r\n\t}\r\n}","var BS = 8; //BLORD SIZE\r\nvar CENTER = BS/2;\r\nvar BLACK = 1;\r\nvar WHITE = 2;\r\n\r\nfunction pos(x: number ,y: number){\r\n\treturn (x-1)+(y-1) * BS;\r\n}\r\n\r\nexport default class Board {\r\n\tpublic data = new Array(BS*BS);\r\n\tpublic currentPlayer = BLACK;\r\n    public history: any[] = [];\r\n\r\n\t//切换用户\r\n\tpublic trogglePlayer = () => {\r\n\t\tthis.currentPlayer = ((this.currentPlayer===BLACK)?WHITE:BLACK);\r\n\t};\r\n\t//重置棋盘\r\n\tpublic reset = () => {\r\n\t\tfor(var i=0;i<BS*BS;++i){\r\n\t\t\tthis.data[i] = 0;\r\n\t\t}\r\n\t\tthis.data[pos(CENTER,CENTER)] = this.data[pos(CENTER+1,CENTER+1)] = WHITE;\r\n\t\tthis.data[pos(CENTER,CENTER+1)] = this.data[pos(CENTER+1,CENTER)] = BLACK;\r\n\t\tthis.currentPlayer = BLACK;\r\n\t\tthis.history = [];\r\n\t};\r\n\t//判断游戏结束\r\n\tpublic isGameOver = () => {\r\n\t\tvar result = false;\r\n\t\tif(!this.canPutAnyChess()){\r\n\t\t\tthis.trogglePlayer();\r\n\t\t\tif(!this.canPutAnyChess()){\r\n\t\t\t\tresult = true;\r\n\t\t\t}\r\n\t\t\tthis.trogglePlayer();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic getChess = (x: number ,y: number) => {\r\n\t\treturn this.data[pos(x,y)];\r\n\t};\r\n\t\r\n\tpublic getPlayer = () => {\r\n\t\treturn this.currentPlayer;\r\n\t}\r\n\t\r\n\tpublic getChessCount = (player: number) => {\r\n\t\tvar b=0,w=0;\r\n\t\tfor(var i=0;i<BS*BS;++i){\r\n\t\t\tif(this.data[i]===BLACK){\r\n\t\t\t\t++b;\r\n\t\t\t}\r\n\t\t\telse if(this.data[i]===WHITE){\r\n\t\t\t\t++w;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(player === BLACK){\r\n\t\t\treturn b;\r\n\t\t}\r\n\t\telse if(player === WHITE){\r\n\t\t\treturn w;\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn [b,w];\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic check = (x: number,y: number,dx: number,dy: number,reverse?: boolean, cb?: (x: number, y: number) => void) => {\r\n\t\tvar found = false;\r\n\t\tvar c = 0;\r\n\t\twhile(true){\r\n\t\t\tx += dx;\r\n\t\t\ty += dy;\r\n\t\t\tif( x<1 || x>BS || y<1 || y>BS){\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\t\t\t\t\r\n\t\t\tvar chess = this.data[pos(x,y)];\r\n\t\t\tif(chess===0){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(chess===this.currentPlayer){\r\n\t\t\t\tfound = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t++c;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(c>0 && found){\r\n\t\t\tif(reverse){\r\n\t\t\t\tfor(;c>0;--c){\r\n\t\t\t\t\tx -= dx;\r\n\t\t\t\t\ty -= dy;\r\n\t\t\t\t\tthis.data[pos(x,y)] = this.currentPlayer;\r\n\t\t\t\t\tif(cb)cb(x,y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tpublic canPutChess = (x: number,y: number) => {\r\n\t\tif(this.data[pos(x,y)]===0){\r\n\t\t\tif(this.check(x,y,1,1) || this.check(x,y,1,0) || this.check(x,y,1,-1) || this.check(x,y,0,1) || this.check(x,y,0,-1)\r\n\t\t\t\t|| this.check(x,y,-1,1) || this.check(x,y,-1,0) || this.check(x,y,-1,-1)){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tpublic getPutableList = () => {\r\n\t\tvar result = [];\r\n\t\tfor(var x=1;x<=BS;++x){\r\n\t\t\tfor(var y=1;y<=BS;++y){\r\n\t\t\t\tif(this.canPutChess(x,y)){\r\n\t\t\t\t\tresult.push([x,y]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t\r\n   public canPutAnyChess = () => {\r\n\t\tfor(var x=1;x<=BS;++x){\r\n\t\t\tfor(var y=1;y<=BS;++y){\r\n\t\t\t\tif(this.canPutChess(x,y)){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tpublic putChess = (x: number,y: number) => {\r\n\t\tif(this.data[pos(x,y)]===0){\r\n\t\t\tvar changed = [];\r\n\t\t\tvar saveChanged = function(tx: number,ty: number){\r\n\t\t\t\tchanged.push([tx,ty]);\r\n\t\t\t};\r\n\t\t\tthis.check(x,y,1,1,true,saveChanged);\r\n\t\t\tthis.check(x,y,1,0,true,saveChanged);\r\n\t\t\tthis.check(x,y,1,-1,true,saveChanged);\r\n\t\t\tthis.check(x,y,0,1,true,saveChanged);\r\n\t\t\tthis.check(x,y,0,-1,true,saveChanged);\r\n\t\t\tthis.check(x,y,-1,-1,true,saveChanged);\r\n\t\t\tthis.check(x,y,-1,0,true,saveChanged);\r\n\t\t\tthis.check(x,y,-1,1,true,saveChanged);\r\n\t\t\t\r\n\t\t\tif (changed.length>0) {\r\n\t\t\t\tthis.data[pos(x,y)] = this.currentPlayer;\r\n\t\t\t\tchanged.push([x,y]);\r\n\t\t\t\tthis.history.push(changed);\r\n\t\t\t\tthis.trogglePlayer();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tskipPutChess = () => {\r\n\t\tif(!this.canPutAnyChess()){\r\n\t\t\tthis.history.push([]);\r\n\t\t\tthis.trogglePlayer();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tundo = () => {\r\n\t\tif(this.history.length>0){\r\n\t\t\tvar flipped = (this.history.length%2===0?BLACK:WHITE);\r\n\t\t\tvar step = this.history.pop();\r\n\t\t\tif(step!=null && step.length>0){\r\n\t\t\t\tfor(var i=0;i<step.length-1;++i){ //flip\r\n\t\t\t\t\tvar chess = step[i];\r\n\t\t\t\t\tthis.data[pos(chess[0],chess[1])] = flipped;\r\n\t\t\t\t}\r\n\t\t\t\tchess = step[step.length-1];\r\n\t\t\t\tthis.data[pos(chess[0],chess[1])] = 0;\r\n\t\t\t}\r\n\t\t\tthis.trogglePlayer();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tpublic _getData = () => {\r\n\t\treturn this.data;\r\n\t}\r\n\r\n}","import React, { Component } from 'react';\r\nimport { Chess} from '../../types/game';\r\nimport ChessBoard from '../../component/ChessBoard'\r\nimport websocket from '../../component/Socket';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { Button, message, PageHeader } from 'antd';\r\n\r\nimport Brain from './ai/ai2';\r\nimport Board from './ai/board';\r\n\r\nimport './index.css';\r\n\r\ninterface OthelloProps extends RouteComponentProps {\r\n    \r\n}\r\n\r\ninterface OthelloState {\r\n    chesses: Chess[][];\r\n    blackCount: number;\r\n    whiteCount: number;\r\n    lastStep: number[];\r\n    currentCode: string;\r\n    roomId: string;\r\n    siteType: number;\r\n    isReady: boolean;\r\n    board: Board;\r\n    ai: Brain;\r\n}\r\n\r\nexport default class Othello extends Component<OthelloProps, OthelloState> {\r\n    state: OthelloState = {\r\n        blackCount: 0,\r\n        whiteCount: 0,\r\n        chesses: [],\r\n        currentCode: \"BLACK\",\r\n        lastStep: [-1,-1],\r\n        roomId: 'othello-999',\r\n        siteType: -1,\r\n        isReady: false,\r\n        board: new Board(),\r\n        ai: new Brain()\r\n    };\r\n\r\n    constructor(props: OthelloProps) {\r\n        super(props);\r\n        let arr: Chess[][] = [];\r\n        for(let x = 0; x < 8; x ++) {\r\n            arr[x] = [];\r\n            for (let y = 0; y < 8; y++) {\r\n                arr[x][y] = {xPoint: x, yPoint: y, code: 'NULL'}\r\n            }\r\n        }\r\n        this.state = {\r\n            blackCount: 0,\r\n            currentCode: \"\",\r\n            lastStep: [],\r\n            whiteCount: 0,\r\n            chesses: arr,\r\n            isReady: false,\r\n            roomId: props.location.state.roomId,\r\n            siteType: props.location.state.siteType,\r\n            board: this.state.board,\r\n            ai: this.state.ai\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(websocket.readyState === websocket.OPEN) {\r\n            websocket.send(this.handleBuildMessage('OTHELLO','COME_ROOM'));\r\n        } else {\r\n            message.error(\"服务器连接已断开!\");\r\n        }\r\n        websocket.onerror = this.handleError;\r\n        websocket.onmessage = this.handleMessage;\r\n        websocket.onclose = this.handleClose;\r\n    }\r\n\r\n    handleBuildMessage = (type: string, action: string, x?: number, y?: number): string => {\r\n        const { roomId, siteType } = this.state;\r\n        const data = JSON.stringify({x: x, y: y, siteType: siteType, childType: action});\r\n        return JSON.stringify(\r\n            {\r\n                type: type,\r\n                data: data,\r\n                targetId: roomId,\r\n            }\r\n        );\r\n    };\r\n\r\n    handlePutChess = (x: number, y: number) => {\r\n        const { currentCode, isReady, board, ai, chesses } = this.state;\r\n        if (!isReady) {\r\n            if(chesses[x][y].code !== 'ALLOW') {\r\n                return;\r\n            }\r\n            let result = board.putChess(y + 1, x + 1);\r\n            let step = ai.findBestStep(board);\r\n            let aiResult;\r\n            if(step.length > 0) {\r\n                aiResult = board.putChess(step[0], step[1]);\r\n                while (board.getPutableList().length === 0 && aiResult) {\r\n                    console.log(\"skip black\");\r\n                    board.skipPutChess();\r\n                    step = ai.findBestStep(board);\r\n                    aiResult = board.putChess(step[0], step[1]);\r\n                }\r\n            }\r\n            if(result || aiResult) {\r\n                if(aiResult) {\r\n                    this.parseChessBoard([step[1] - 1, step[0] - 1]);\r\n                } else {\r\n                    this.parseChessBoard();\r\n                }\r\n                if (board.isGameOver()) {\r\n                    setTimeout(() => {\r\n                        alert(\"Game over! black: \" + board.getChessCount(1) + \"white: \" + board.getChessCount(2));\r\n                    }, 500);\r\n                }\r\n            } \r\n            return;\r\n        }\r\n        if (!currentCode || currentCode === '') {\r\n            return;\r\n        }\r\n        websocket.send(this.handleBuildMessage('OTHELLO','PUT_CHESS', x, y));\r\n    } ;\r\n\r\n    handleClose = (evt: any) => {\r\n        console.log(evt)\r\n    };\r\n\r\n    handleBackToBaseRoom = () => {\r\n        const { history } = this.props;\r\n        websocket.send(this.handleBuildMessage('OTHELLO','LEAVE_ROOM'));\r\n        history.goBack();\r\n    }\r\n\r\n    handleMessage = (evt: MessageEvent) => {\r\n        if(evt.data){\r\n            const data = JSON.parse(evt.data);\r\n            if(data.success) {\r\n                const message = data.data;\r\n                if(message) {\r\n                    this.setState({\r\n                        chesses: message.table ? message.table : this.state.chesses,\r\n                        currentCode: message.currentPlayer ? message.currentPlayer : this.state.currentCode,\r\n                        lastStep: message.lastStep ? message.lastStep : this.state.lastStep,\r\n                    });\r\n                    if(message.winnerCode) {\r\n                        alert(\"Game over ! \" + message.winnerCode + \" win!\");\r\n                        this.setState({\r\n                            isReady: false\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                console.log(data);\r\n                alert(data.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    handleError = (evt: any) => {\r\n        console.log(evt)\r\n    };\r\n\r\n    handleReady = () => {\r\n        websocket.send(this.handleBuildMessage('OTHELLO','READY_GAME'))\r\n        this.setState({\r\n            isReady: true,\r\n        })\r\n    };\r\n\r\n    // 人机\r\n    robotTrain = () => {\r\n        const { board } = this.state;\r\n        board.reset();\r\n        this.parseChessBoard();\r\n    }\r\n\r\n    parseChessBoard = (lastStep?: number[]) => {\r\n        const { board } = this.state;\r\n        let chesses: Chess[][] = [];\r\n        let player = board.getPlayer();\r\n        let allowList = board.getPutableList();\r\n        let chessList = board._getData();\r\n        let y = 0;\r\n        let row: Chess[] = [];\r\n        for(let i = 0; i <= chessList.length; ++i) {\r\n            if (i > 0 && i % 8 === 0) {\r\n                chesses.push(row);\r\n                row = [];\r\n                y++;\r\n            }   \r\n            let code: \"BLACK\" | \"WHITE\" | \"NULL\" | \"ALLOW\" = chessList[i] === 1 ? 'BLACK' : chessList[i] === 2 ? \"WHITE\" : 'NULL';\r\n            row.push({xPoint: i - y * 8, yPoint: y, code: code});\r\n        } \r\n        for(let i = 0; i < allowList.length; i++) {\r\n            let point = allowList[i];\r\n            chesses[point[1] - 1][point[0] - 1].code = 'ALLOW';\r\n        }\r\n        this.setState ({\r\n            chesses: chesses,\r\n            currentCode: player === 1 ? 'BLACK' : 'WHITE',\r\n            lastStep: lastStep ? lastStep : [],\r\n        });\r\n    }\r\n\r\n    public render() {\r\n        const { chesses, lastStep, currentCode, roomId, isReady } = this.state;\r\n        return (\r\n            <div style={{textAlign: 'center'}}>\r\n                <PageHeader\r\n                    style={{color: 'white'}}\r\n                    ghost={false}\r\n                    onBack={this.handleBackToBaseRoom}\r\n                    title=\"返回\"\r\n                    subTitle=\"重新选择房间\"\r\n                />\r\n                <div>房间：{roomId}</div>\r\n                <ChessBoard\r\n                    chesses={chesses}\r\n                    height={400}\r\n                    width={400}\r\n                    length={8}\r\n                    lastStep={lastStep}\r\n                    handleChessClick={this.handlePutChess}\r\n                />\r\n                <div className=\"user-info-block\">\r\n                    <div>当前玩家:{currentCode}</div>\r\n                    {\r\n                        isReady ? null : \r\n                        <div>\r\n                            <div><Button onClick={this.handleReady} >准备</Button></div>\r\n                            <div><Button onClick={this.robotTrain} >人机练习</Button></div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport Game from '../game'\r\nimport GameRoom from '../component/common/GameRoom';\r\nimport Othello from '../game/othello';\r\n\r\ninterface HomePorps {\r\n\r\n}\r\n\r\ninterface HomeState {\r\n\r\n}\r\n\r\nexport default class Home extends Component<HomePorps, HomeState> {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <BrowserRouter basename=\"/blog/game\">\r\n                    <Route path=\"/\" exact render={(props: RouteComponentProps) => {\r\n                        return <Game history={props.history} />\r\n                    }}/>\r\n                    <Route path=\"/othello\" exact render={(props: RouteComponentProps) => {\r\n                        return <GameRoom\r\n                            history={props.history}\r\n                            roomTargetKey=\"othello-\"\r\n                            maxRoomSize={12}\r\n                            roomType=\"othello\" />\r\n                    }} />\r\n                    <Route path=\"/othello/room\" exact render={(props: RouteComponentProps) => {\r\n                        return <Othello {...props} />\r\n                    }}/>\r\n                </BrowserRouter>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n","import React from 'react';\nimport './App.css';\n\nimport Home from './home'\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Home />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/othello.a7b0f438.jpg\";","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAE/ElEQVRoQ91aTYgcRRT+XsPMScGcDC5oDoloUHGF5JSAm6gR3Vy9KAmb+AMLTr8eXP/Qk+Kqu2y/GWHBqFmy6MVrohjNGsE9KSRBxZVkDxrYoCeDepqFKnlD91DT2z3TO9OzcazLQHe9n6+r6lXV9w2hoFapVPZ5nvcYgBEiGjHGNH/VvbV2zfO8Nf0FsGaM+bxery8XEZr6cRIEwSPW2ocBPAHg9k36ugrgUyL6KgzDLzdp2+q+aQCTk5M3lcvlCSKasNaO9hrYtSOii9bahUajsTA/P//PZnzmBjA1NbV9fX19AsAxADtzBLkO4Neo3w4At+SwWQVwslQqLczMzPyeoz9yAWDmxwFIh8RXiGjZGLNMRD9o4iKiAFqNmRXADmvtfZ7n7bPW7gNwd0aSCoRF5LNuILoCCILguLX2wwxHs/rFRGSlW6C098ysAHREX0h7T0RPh2H4USffHQEw84sA3klxcBbA2yLyTS+JJ22Y+UEALwM4lOLvJRF5NytOJoAgCHSRnkwaWmtfr9VqbxaReNKH7/uvEdEbyedEdCwMw4XUUUp7WK1Wx4wxX6e8q4jIe4NIPvbJzM8DqCdjeJ53YG5u7vwGcClfYQ8RfZfyFXaFYaiLa+AtCIKd1torKaO/t1arfe8+b5tCWiobjcZ5IrrL7WSt3V6r1f4YeOZOAN/3byWitlJqrf2lXC6PuSW2DQAzvwLgrTaERIf62Sn7AR3t9Fow3PaqiEzHD1oAoh32YqLWT4mIlsob1phZS+yMk8Bqo9EYjXfsFoCUxXNWRB69YZk7gZn5i0SJbRWTFoAgCC4kzjZjRdX5fj9CtE+0KpCencIwfED9NgFUq9VxY8xpJ9CsiEz1G7hIe2bWadTasT3POzw3N3emCYCZ3wfwbBzQGHNvvV7/qcgE+vVVqVTu8TzvR8fPCRF5LgagF43bopdXROTOfgMOwp6ZLwPYFfm+JiIjVKlUDnqed84J+ImIPDWIBPr1ycwfA3jSmSkPETNr3df6H7fjIrLhDNRv8CLsmVlPru7pdFoBnAJwxAkwKiKXighYtA9mvh+A7lVxW6QgCM5Zaw86D7clLyNFJ9Krv+hS9GdsT0RL5Pu+3qbis891EdnWa4CtsGNmBdC8nurZSKfQXwBujoJfEpFCLuqDAsPMOoV0Kmn7e/gBDP0UGvpFPPRlNLmRWWuP1mq1xUEtwn78+r5/hIh034rbtB4llJT91qmtH4Rh2DrY9ROwaNsgCE5Ya5+J/Rpj9seHud8ccnZFRHYXHbwIf8z8s8PmXRWRO2IAbWdtALt7ZduKSDTNR8TiKYC4Ne8sTQApl+f//IWGIrLh/3Gl1FEY+kt9Gq0ySB4071pJ4UvTaZVoFDYQWwAGzodmgcngSdOJLXUSqTC6J7QpMES0ZbxoDCaDH10tlUr7M6nFaBRUjTmT/CpbyY+m8aJRPuNJ1SZVH8hSZeLSlXf+9tIvgw9FllqTKXB0UGcGxpem8KDxN8hUaTpKTFkqDYAtk5g6qTOKrqvI10GtUftZY8ypXlm8iG07miXyZaky7tTsCkA7+76/B8BiUvhwHKmaoqqOylIXOsmsAJSUPQBgr8OytS0Xvawr1ZNUY9LWVC4ATokdTqHbRT60fzVIG76Ilj8MYNwhh/NWz2u633ied1pp8rxGyX65p1C3ABFJrAxfnr/bLNXr9aVuPvO8/xdJDXHaHkUivQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADNUlEQVRoQ92au2sUQRzHv79VDnLBNDZKEBsLO8VCDIiiUeODREsttDwwoDcbfKB/gMEH2R8KEa5TCy3V4DOJoggRi6CVFjYSgjZplJywJDvyC7tyXvYec7d7l3Fg2WJnvr/57M5r5zuEBJLruh1BEOwiot0AuomoOwiCpbvIa61nHceZlTsAub9xHOet53m/mw1PjQoopbYB2AtgJ4AjAFYbai0AeALgHYBXzDxtWH4puzGAUmo9ABVemUaCxpTxAbBczPzdRNMIQCkVVXyjSRCDvN9CCIGpK9UF4LruJq31bQD76lJtPtMEEZ32PO9rLamaAEqpQwDuAVhbSyzh53MATjLzs2q6VQGUUmcA3Ey4YqZyZ5n5VqVCFQFc1z2utb5vGi2N/ER0wvO8B3HasQBDQ0NbgiD4mEZlGtV0HGfryMjIp/LyywAGBwfXZTKZDwA2NBospXIzvu9vHx0d/VGqvwxAKfUYQH9KlWhWdoyZByoChOO812yUlMu7MttFMf5+gXCGnQKQ1iSVFJdMdj3RjF0KcBXAhaSipKxzjZkvSowlgHBhJm8/qbVNyvWHrJ3kK0xHAJcAXEk7asL6l5l5OAJ4CWB/wgHSlhtn5gOUy+Wy2Wz2J4BVaUdMWH+xWCx2keu6/VprGfutS0Q0QEopafvSB2xMwwJwB8ApG2sP4K40oQmtda+NAEQ0Sfl8/jMRbbYRQGv9RZqQjEBrbAQA8Mt+AOubkPWd2Pph1PqJLJ/P9xHRcxtHIa31QZnIOrTWMpSabs62m3mBiLqi5fRDAEfbXSPD+I+Y+VgEcA7AdUOBdmc/z8w3/o9fyvC/2N6f+hBAjAt7t1VCCDEw7NzYinqkUmq8hUaG6UAwwcz/bD4s2xsN3Zj3bTA0asHMEdGOctcmdns9dGWe1lJs8fPDcW5NRYNjhbgz0Tuq6NJUtZhWgktTzZ0RupomX+jWjLXB8JhxHKc/zpUpbbo1ASRz6NoUWmh8jPm+nyt3Y+L6XF0AJUOsnUZ3KbnVRw3KQOSwRx+APeGhD9PN4UU55AHgNYAXLTvsEdcOZYe7s7OzV2vdU89xGyKamp+fnywUCsVm55I/MoRChLYmsaAAAAAASUVORK5CYII=\""],"sourceRoot":""}